# Generate Cover WordPress 插件

一个强大的WordPress插件，使用AI技术自动为博客文章生成封面图片。

## 功能特性

- 🤖 **AI智能分析**：使用OpenRouter API分析文章内容，生成合适的图片prompt
- 🎨 **自动生成封面**：调用即梦AI生成高质量的封面图片
- 📝 **文章摘要**：自动生成文章摘要，提升SEO效果
- 🔄 **批量处理**：支持为多篇文章批量生成封面
- 📊 **历史记录**：记录生成历史，支持重新生成
- ⚙️ **灵活配置**：支持多种AI模型和图片尺寸选择
- 🚀 **异步处理**：支持异步生成，不阻塞文章发布

## 安装要求

- WordPress 5.0 或更高版本
- PHP 7.4 或更高版本
- 有效的OpenRouter API密钥
- 有效的即梦AI API密钥

## 安装步骤

1. 将插件文件夹上传到 `/wp-content/plugins/` 目录
2. 在WordPress管理后台激活插件
3. 进入 `设置 > Generate Cover` 配置API密钥
4. 在文章编辑页面使用生成功能

## 配置说明

### API密钥配置

1. **OpenRouter API Key**
   - 访问 [OpenRouter](https://openrouter.ai/) 注册账号
   - 获取API密钥并填入设置页面

2. **即梦AI API密钥**
   - 获取即梦AI的Access Key和Secret Key
   - 在设置页面填入相应字段

### 可选设置

- **默认AI模型**：选择用于生成prompt的AI模型
- **图片尺寸**：选择生成图片的分辨率
- **自动生成**：启用后发布文章时自动生成封面

## 使用方法

### 手动生成封面

1. 在文章编辑页面，找到"AI 封面生成"元框
2. 点击"生成封面图片"按钮
3. 等待生成完成，图片会自动设置为文章特色图片

### 批量生成封面

1. 进入 `设置 > Generate Cover`
2. 点击"批量生成封面"按钮
3. 系统会为所有没有封面图片的文章生成封面

### 重新生成封面

1. 在文章编辑页面，点击"重新生成"按钮
2. 系统会删除当前封面并生成新的封面

## 支持的AI模型

- OpenAI GPT-5
- OpenAI GPT-5 Nano
- OpenAI GPT-4o
- DeepSeek V3.2

## 支持的图片尺寸

- 1K (1024×1024)
- 2K (2048×2048)
- 2K 4:3 (2304×1728)
- 2K 16:9 (2560×1440)
- 4K (4096×4096)

## 错误处理

插件包含完善的错误处理机制：

- API连接测试
- 详细的错误信息显示
- 生成历史记录
- 异步处理日志

## 常见问题

### Q: 生成失败怎么办？
A: 检查API密钥是否正确，网络连接是否正常，或者稍后重试。

### Q: 生成时间过长怎么办？
A: 图片生成需要一定时间，请耐心等待。可以选择较小的图片尺寸以加快生成速度。

### Q: 如何查看生成历史？
A: 在文章编辑页面点击"查看历史"按钮可以查看该文章的生成历史。

### Q: 支持哪些图片格式？
A: 生成的图片为JPEG格式，会自动保存到WordPress媒体库。

## 技术架构

- **OpenRouter API**：用于生成图片prompt和文章摘要
- **即梦AI**：用于生成实际的封面图片
- **WordPress Hooks**：集成到WordPress文章编辑流程
- **AJAX**：提供流畅的用户交互体验

## 更新日志

### 1.0.0
- 初始版本发布
- 支持OpenRouter和即梦AI集成
- 实现基本的封面生成功能
- 添加批量处理和历史记录功能

## 许可证

GPL v2 或更高版本

## 支持

如果您在使用过程中遇到问题，请：

1. 检查API密钥配置
2. 查看错误日志
3. 联系技术支持

## 贡献

欢迎提交Issue和Pull Request来改进这个插件。
